import"./bygoogle.cPGZVVcL.js";import{a as b,k as v,q as C,x as y,c as T,s as k}from"./index.DgJXMCEM.js";import{o as S}from"./share-url.By9DGqQ5.js";import{a1 as x}from"./reactivity.esm-bundler.D2n14kld.js";import{p as E,h as u}from"./hue.CL48c4Yd.js";import"./prf-down.CHgswg1Z.js";import"./video.DaYoz9hg.js";import"./client.B7-ymqp_.js";import"./nav.B5R-cxCC.js";import"./11ja71b.CKD0LjXW.js";import"./searchbar.jXU1hOtH.js";import"./howto.Bo1jPfJ3.js";import"./client.DvnDlCOr.js";import"./scroll.CH9zwhTZ.js";import"./core.DAMUCUU6.js";function $(n,e){if(!n)return;const t=document.getElementById(e)||document.createElement("iframe");t.id=e,t.src=n,document.body.appendChild(t)}function D(){if(!__DATA__.isBot){const{id:n,type:e}=s;b.get("/api/statistics/view",{id:n,type:e}),e=="1"?b.get("/api/statistics/detail-out-view",{id:n}):e=="5"&&E("font_detail",1,"come")}}const s=window._getDetailData(),_=x({spin:!1}),g=()=>{_.spin=!1},w=n=>{g(),n&&window.open(n,"_blank")},L=()=>{C("rbg_id_type","".concat(s.id,"_").concat(s.type)),w("/remove-background")},I={png:"down-btnfreepng",rar:"down-btnfreerar",ppt:"down-btnfreerar",premium:"down-btnvippng",edit:"down-btnedit",freevideo:"down-btnfreevideo"};function R(n,e,t){if(!(!n||_.spin)){if(_.spin=!0,n==="remove-bg"){u("detail/ai-btn-remove-bg"),L();return}if(!__DATA__.isLogined){g(),v.emit("_pri6n4"),u("down-btnnologin-"+n);return}switch(u(I[n]),n){case"png":case"rar":case"ppt":case"twibbon":const i=n==="png";e&&(s.one||s.limitedTime)?w(e):v.emit("_amemn8","*",{onend:g,type:s.type,btnType:n,licenseType:s.vipType||0,href:e,downUrl:e,rarName:t||"PSD",fee:s.fee&&i});break;case"edit":e&&s.editips&&confirm(s.editips)&&(e=e.replace(/\/canvas\/?\?/,"/canvas/designer.html?")),w(e);break;case"freevideo":$(e,"down_ifr"),g();break;default:w(e);break}}}const h=x({spin:!1,show:!1});function W(n){const e=n.preview;if(!e)return;const t=()=>{h.show=!0,h.spin=!1};if(e.children.length){t();return}const i=n.imgLink,r=n.image;if(!i||!r)return;const a=i.href||r.currentSrc||r.src;if(!a)return;h.spin=!0,setTimeout(()=>{u("detail-preview-image")},80);const d=i.offsetHeight>i.parentElement.offsetHeight,o=new Image;o.className="_uov8kz _236poq _2818mk _1s4plaf _59p8ei _1efnc4d _xxp0k1",o.style.minWidth=d?"640px":"auto",o.style.maxWidth=window.innerWidth-40+"px",o.style.maxHeight=window.innerHeight-60+"px",o.oncontextmenu=f=>f.preventDefault(),o.onload=t,o.onabort=o.onerror=f=>{e.removeChild(o),h.spin=!1,$toast.error("Load failed!")},o.decoding="async",o.src=a,o.alt="",e.appendChild(o)}y("_1r0qupz",n=>({tab:n.tab,prfLoading:!1,tabCls(e){return this.tab===e?"_c5516n":""},onTab(e){this.tab=e},licPrf(e){const t=this.$app;if(!t.tapLogin())return;const i=e==="enterprise",r=i?"team":"",a=s.one,{vipType:d,enterpriseStatus:o}=__DATA__,f=i?o!=1:d<=0;if(!a&&f)t.onDialog(i?"_5j84hy":"_1mbqn4s"),u("prfview-btn"+r);else if(!this.prfLoading){this.prfLoading=!0;const l=this._Refs.prfDown,m=()=>{this.prfLoading=!1};l.onshow({slidesdocs:!!s.slidesdocs,name:a?"one":l.getName(e),data:{action:"detail",id:s.id,type:s.type},resolve:m,reject:m}),u("prfdown-btn"+r)}}}));y("_1um5rr9",n=>({url:n.url,followed:n.is,loading:!1,onFollow(){const e=this.$app;!this.loading&&e.tapLogin()&&(this.loading=!0,b.post("/api/async/designer-follow",{id:n.uid}).then(t=>{this.loading=!1,t.status===200&&(this.followed=!this.followed)}).catch(()=>{this.loading=!1}))}}));y("_166ljwa",n=>{const e="_sstrbf";return{store:_,preview:h,videoSize:"",wordsExpand:n.is2xl,wordsCount:"+10",wordsFromCls:n.is2xl?"":e,get showVideoDown(){return this.videoSize==="down"},"on:mounted"(){const t=this._Refs.hangs;t&&t.setIds(s.id,s.type),!n.is2xl&&this.wordsCalc(),D()},wordsMinHeight(t){t.style.height="38px",t.style.overflow="hidden"},wordsOnExpand(){if(this.wordsFromCls=e,this.wordsExpand=!this.wordsExpand,this.wordsExpand){const t=this.$refs.wordsbtn,i=t&&t.parentElement;if(!i)return;i.appendChild(t)}else setTimeout(()=>{this.wordsCalc()},200)},wordsCalc(){if(window.innerWidth<1024)return;const t=this.$refs.wordsbtn,i=t&&t.parentElement;if(!i)return;const r=i.children,a=r.length,d=r[a-1];if(a<=1||d&&d.offsetTop<=0)return;const o=(f,l)=>{if(this.wordsCount="+"+(a-1-l),i.insertBefore(t,f),t.offsetTop>0){const m="previousElementSibling";let c=t[m];for(;c&&c.offsetTop>0;)c=c[m];c&&o(c,l-1)}else i._btn=f,i._btni=l;t.classList.remove("_1i3kt2s")};if(i._btn){o(i._btn,i._btni);return}for(let f=0;f<a;f++){const l=r[f];if(l.offsetTop>0){o(l,f);break}}},onDownld(t,i,r){R(t,i,r)},mDownld(){k(40,{target:document.querySelector("._bvrn6v")})},onCopy(){},closePreview(){h.show=!1},onPreview(){W(this.$refs)},likeSpin(){const t=this._Refs.hangs;return t?t.likeSpin({id:s.id,type:s.type}):""},likeCls(){const t=this._Refs.hangs;return t?t.likeIcoCls({id:s.id,type:s.type}):""},onLike(){const t=this._Refs.hangs;t&&t.onLike(s.id,s.type)},urlCopying:!1,onShareUrl(){T(location.href).then(()=>(this.urlCopying=!0,this.$nextTick())).then(()=>{setTimeout(()=>{this.urlCopying=!1},2800)})},onShare(t){const i=this.$refs.image;i&&S({name:t,media:i.currentSrc||i.src,title:s.sharetit,word:s.shareword})},how2Attri(){const t=this._Refs.howToAttribute,i=this.$refs.lionName;t.onopen({type:s.type,url:location.pathname,usrName:i&&i.textContent||""})}}});const q=n=>n*(96/72);y("_e05maq",n=>({text:"",pt:n.pt,effectId:n.eid,loading:!1,get textCls(){return"effects-text"+this.effectId},get textStyl(){return"--font-size:".concat(q(this.pt),"px")},get fontText(){return this.text||n.p},ptCls(e){return this.pt===e?"_4x0icu":"_1t7gxnv"},ptClick(e){this.pt=e},effectCls(e){return this.effectId===e?"_1abob5y":"_oqy7bn"},effectClick(e){this.effectId=e},"on:mounted"(){z(),this.initCanvas()},initCanvas(){},downPng(){if(this.loading)return;if(this.$app.tapLogin()){const t=this.fontText.trim();if(!t)return;this.loading=!0;const i=()=>{this.loading=!1},r=this.$refs.spanTxt,a=r&&r.parentElement;if(!a)return;const d=this.$refs.canvas,o=getComputedStyle(r);v.emit("_h3jjzr",{styles:{left:r.offsetLeft,top:r.offsetTop+1.25,fontFamily:o.fontFamily,fontSize:parseInt(o.fontSize),fontWeight:o.fontWeight,fontStyle:o.fontStyle},effectId:this.effectId,text:t,textWidth:r.offsetWidth,canvasWidth:a.offsetWidth,canvasHeight:a.offsetHeight,cid:d.id,onok:i,onerr(){i(),$toast.error("Error!")}})}}}));function z(){const n=document.querySelector("style[data-font-style]");if(n&&n.sheet){const e=n.sheet.cssRules,t=e.length;for(let i=0;i<t;i++)A(e[i].cssText);n.parentElement.removeChild(n)}}let p;function A(n){p||(p=document.createElement("style"),document.head.appendChild(p),p.appendChild(document.createTextNode(""))),p.sheet&&p.sheet.insertRule(n,p.sheet.cssRules.length)}
